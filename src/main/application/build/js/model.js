function Choice(t){this._data=t}function Page(t){this._data=t,this._data._name=Util.getProp(t,"data.name")||"",this._data._footer=Util.getProp(t,"data.disclaimer")||"",this._footer=null}function Pages(t){this._data=t,this.translate=0,this.translateAmount=37.04,this.pages=[],this.currentPage=0,this.block=!1,this.render(),this.start(),ShoppingCart.getInstance().render()}function PaymentMethod(t){this._data=t}function Player(t){if(Player.instance)return Player.instance;this._data=t,this.sessionName="BackgroundPlayer",this.createSession(),Player.instance=this}function PlayerPlaylist(t){this.init(t)}function Item(t){this._data=t}function Product(t){Item.call(this,t)}function ShoppingCart(t){if(ShoppingCart.instance)return ShoppingCart.instance;this._data=t,this.cart=[],this.celebration=null,ShoppingCart.instance=this}Choice.prototype.getType=function(){var t=this._data.mail?"mail":"phone";return t},Choice.prototype.isPhone=function(arguments){return"phone"==this.getType()},Choice.prototype.isMail=function(arguments){return"mail"==this.getType()},Choice.prototype.getTitle=function(arguments){var t=this.isPhone()?"Por mensaje de texto al":"Por correo";return t},Choice.prototype.getPhone=function(){return this._data.phone},Choice.prototype.getMail=function(){return this._data.mail},Choice.prototype.getAsterisc=function(t){var e,a=(t=t).split("@"),o="";if(this.isPhone())e=Util.cutPhone(t);else{for(var n=a[0].slice(-3),i=0;i<n.length;i++)o+="*";e=t.replace(a[0].slice(0,-3),o)}return e},Choice.prototype.getTxtButton=function(){var t=this.isPhone()?"Recibir por SMS":"Recibir por correo";return t},Choice.prototype.getValue=function(){var t=this.isPhone()?this.getAsterisc(this.getPhone()):this.getAsterisc(this.getMail());return t},Choice.prototype.getImg=function(){var t=this.isPhone()?"assets/img/icons/icon_phone.png":"assets/img/icons/email_recover.png";return t},Choice.prototype.getClassIcon=function(){return this.isPhone()?"phone-icon":"mail-icon"},Choice.prototype.getSendtoCode=function(){var t=this.isPhone()?this.getPhone():this.getMail();return t},Page.prototype.getId=function(){return this._data.id},Page.prototype.getContainer=function(t){return this.container&&!t||(this.container=$("#"+this._data.id)),this.container},Page.prototype.render=function(t){this._data.listData=t.listData,this._data.selectedShowData=Util.getProp(t,"selectedShowData");var e=this._data.selectedShowData||"",e=(this.footerDescription=e,_.extend({},t,{id:this._data.id,_name:this._data._name,_footer:this._data.listData[0].disclaimer,_footer:t._footer,_credit:t._credit,value:t.value})),t=Templates[this._data.templateId](e),e=this.getContainer(!0);e.empty(""),e.append(t),this.createElements(),this.renderRightPanel()},Page.prototype.renderRightPanel=function(){var t=this.getId(),e="",a=$("#imageBack");switch(a.removeClass("zone"),a.removeClass("ticket"),t){case"shows":return void this.onFocusItem("shows");case"showTimes":this.updateImageSection("DATES");break;case"zones":var o=this.getSelected(),n=(a.addClass("zone"),this._footer=Util.getProp(this.footerDescription.screens,"ZONES"),Util.getImageFromObject(o.images,"ICON","13c"));this.updateFooter(this._footer),e=Templates.ZoneInfo({img:n,_name:AppConfig.name_profile,_description:this._footer}),this.updateImageSection("ZONES");break;case"tickets":o=this.getSelected();a.addClass("ticket"),e=Templates.TicketsInfo({htmlData:AppConfig.benefits}),this.updateImageSection("TICKETS");break;case"celebrations":o=this.getSelected(),e=Templates.CelebrationsInfo(),n=Util.getProp(o,"images");this.updatePlayer([n])}$("#left-container").html(e)},Page.prototype.updateImageSection=function(t){var e=Util.getProp(this._data.selectedShowData.screens,t),a=null;if(e)this.updatePlayer(a=e);else{switch(t){case"dates":a="assets/img/background/dates.png";break;case"zones":a="assets/img/background/zones.png";break;case"tickets":a="assets/img/background/tickets.png"}this.updatePlayer(a,!0)}},Page.prototype.createElements=function(){var t={selector:"div",maxFocusIndex:3,onFocus:this.onFocusItem.bind(this)};this.dataList=new ScrollListComponent(this._data.id+"-list-container",t,this._data.listData),this.dataList.setFocusIndex(0)},Page.prototype.updateFooter=function(t){this._container1=$(".footer-recomens-zone"),this._container1.appendHTML="por favor muestralo"},Page.prototype.updatePlayer=function(t,e){e=e?t:($("#imageBack"),t=(e=t.images||t[0]).BACK_APP?"BACK_APP":"BACK",Util.getImageFromObject(e,t,"HD"));$("#imageBack").css("background-image","url("+e+")"),this._footer},Page.prototype.onFocusItem=function(t,e){if(t){var a=this.dataList.getFocusItem().data("data");switch(this._data.id){case"shows":this.changeLeftPanel(a),this.updatePlayer(a);break;case"zones":var o=$("#section"),n=Util.getImageFromObject(a.images,"ICON","13c");o.css("background-image","url("+n+")")}}},Page.prototype._parseDescription=function(t){var e="";switch(t.alias){case"AB":e="Más de 100 hits en tres actos. Presentamos los éxitos en español que esperabas. Déjate abrazar por la música y el romance. ";break;case"DI":e="Disfruta de este gran show con temas de Aladdin, Toy Story, Mulan, Pocahontas, La Bella y la Bestia, La Sirenita, Frozen, El Rey León, y muchas más.";break;case"VN":e="Los temas más representativos del Pop y Rock en español se unen para crear la atmósfera perfecta y celebrar cada noche.";break;default:e=t.description}return e},Page.prototype.changeLeftPanel=function(t){var e=Templates.ShowDescription(t),a=$("#show-description"),t=Util.getImageFromObject(t.images,"BACK","11c");$("#logo").css("background-image","url("+t+")"),a.html(e)},Page.prototype.changeImage=function(t){},Page.prototype.clear=function(){var t=this.getContainer();t.html(""),t.empty(),this.dataList&&(this.dataList.cleanUp(),this.dataList=null)},Page.prototype.getSelected=function(){return this.dataList.getFocusItem().data("data")},Page.prototype.blur=function(){this.dataList.offFocus()},Page.prototype.setFocus=function(){this.dataList.setFocusIndex()},Page.prototype.onKeyPress=function(t){var e=this.dataList;switch(t){case AppActions.moveLeft:e.previousItem();break;case AppActions.moveRight:e.nextItem();break;case AppActions.menu:case AppActions.back:break;case AppActions.select:e.getFocusItem().data("data")}},Pages.prototype.render=function(){this.templateData={pages:[{id:"shows",templateId:"Shows",data:{listData:this._data,name:Util.getProp(AppConfig.profile,"name"),disclaimer:Util.getProp(AppConfig.profile,"disclaimer")}},{id:"showTimes",templateId:"ShowTimes",data:{}},{id:"zones",templateId:"ZoneList",data:{}},{id:"tickets",templateId:"TicketList",data:{}},{id:"celebrations",templateId:"CelebrationsList",data:{}}]};var t=Templates.Pages(this.templateData);$("#landing-container").append(t),this.pages=_.map(this.templateData.pages,function(t){return new Page(t)})},Pages.prototype.start=function(){var t=this.pages[0];t.render({listData:this._data}),t.getContainer().addClass("active")},Pages.prototype.hideDescription=function(){$("#show-description").addClass("hidden"),$("#shopping-cart").removeClass("hidden")},Pages.prototype.showDescription=function(){$("#show-description").removeClass("hidden"),$("#shopping-cart").addClass("hidden")},Pages.prototype.updateShoppingCart=function(t,e){"show"!==t.getId()&&this.hideDescription(),ShoppingCart.getInstance().addItem({page:t,itemData:e})},Pages.prototype.removeShoppingCartItem=function(t){"showTimes"===t.getId()&&this.showDescription(),ShoppingCart.getInstance().removeItem(t)},Pages.prototype.getPageById=function(e){return _.find(this.pages,function(t){return t.getId()===e})},Pages.prototype.nextPage=function(t){if(this.currentPage===this.pages.length-1)ShoppingCart.getInstance().updateCelebration(t),UiManager.getInstance().openComponent("OrderSummary",t,!0,!0);else{this.slide("next");var e=this.pages[this.currentPage],a=null,o=(this.currentPage++,this.pages[this.currentPage]),n=_.values(_.pick(t,"showtimes","zones","seatingPackages","coupons"))[[0]],i=("celebrations"===o.getId()&&(n=this.getPageById("shows").getSelected().celebration),"shows"!==o.getId()&&(a=this.getPageById("shows").getSelected()),this.getPageById("shows")),r="";switch(o.getId()){case"zones":var s="zoneIcon",p=!0;null!=(p=AppConfig.credit_info.creditAvailable)&&0!=p||(p=!1),r=i.getSelected().screens.ZONES.description?i.getSelected().screens.ZONES.description:"";break;case"showTimes":r=i.getSelected().screens.DATES.description?i.getSelected().screens.DATES.description:"";break;case"tickets":r=i.getSelected().screens.TICKETS.description?i.getSelected().screens.TICKETS.description:""}o.render({listData:n,selectedShowData:a,_footer:r,_credit:p,value:s}),this.updateShoppingCart(e,t)}},Pages.prototype.prevPage=function(t){var e;0!==this.currentPage&&(t&&(t=this.currentPage-1,t=this.pages[t])&&t.blur(),this.slide("prev"),t=(e=this).pages[this.currentPage],this.removeShoppingCartItem(t),this._clearTout=setTimeout(function(){clearTimeout(e._clearTout),e.pages[e.currentPage].clear(),e.currentPage--,e.pages[e.currentPage].renderRightPanel()},350))},Pages.prototype.slide=function(t){var e=document.querySelectorAll(".page"),a=("next"===t?this.translate-=this.translateAmount:this.translate+=this.translateAmount,Math.trunc(Math.abs(this.translate)/this.translateAmount)),o=this;_.each(e,function(t,e){t.classList.remove("active"),t.style.transform="translate3d(0, "+o.translate+"vh, 0)",e===a&&t.classList.add("active")})},Pages.prototype.unlock=function(){this.block=!1},Pages.prototype.blur=function(){this.pages[this.currentPage].blur()},Pages.prototype.onFocus=function(){this.pages[this.currentPage].setFocus()},Pages.prototype.onKeyPress=function(t){if(!this.block){this.block=!0,window.clearTimeout(this.keyBlockPress),this.keyBlockPress=setTimeout(this.unlock.bind(this),350);var e=this.pages[this.currentPage];switch(e.onKeyPress(t),t){case AppActions.select:var a=e.getSelected();this.nextPage(a);break;case AppActions.back:0==this.currentPage?UiManager.getInstance().openComponent("ExitApp",{},!0,!0,!0):this.prevPage();break;case AppActions.menu:UiManager.getInstance().openComponent("ExitApp",{},!0,!0,!0)}}},PaymentMethod.prototype.getAuxiliarText=function(){return this._data.auxiliarText},PaymentMethod.prototype.getType=function(){return!!this._data.type&&this._data.type.toLowerCase()},PaymentMethod.prototype.getPeriodicPayments=function(){return!!(this._data.payment.nPayments&&0<this._data.payment.nPayments)&&this._data.payment.nPayments},PaymentMethod.prototype.getPromotionPaymentType=function(){return this._data.payment.type},PaymentMethod.prototype.getAmount=function(){return this.numberWithCommas(this._data.amount)},PaymentMethod.prototype.getRoundedAmount=function(){var t=this._data.amount;return Math.round(t)==Math.ceil(t)?this.numberWithCommas(Math.round(this._data.amount)):this.numberWithCommas(t)},PaymentMethod.prototype.getPaymentsAmount=function(){return this._data.payment.amount},PaymentMethod.prototype.getPayments=function(){for(var t=[],e=0;e<this._data.payments.length;e++)t.push(new PaymentMethod(this._data.payments[e]));return t},PaymentMethod.prototype.getEnding=function(){if(this._data.savedCard)return this._data.savedCard.ending},PaymentMethod.prototype.getData=function(){return this._data},PaymentMethod.prototype.setPayment=function(t){this._data.payment=t},PaymentMethod.prototype.getAddCard=function(t){return this._data.addCard},PaymentMethod.prototype.getLabel=function(t){return this.getAddCard()?this._data.name:this._data.label},PaymentMethod.prototype.getImages=function(){this._data.images.icon;var t=this._data.images.full;return t},PaymentMethod.prototype.getIconCard=function(t){var e;switch(this._data.savedCard.nCvv){case"VISA":e="assets/img/bancos/visa.png";break;case"MASTERCARD":e="assets/img/bancos/mastercard.png";break;case"AMERICAN EXPRESS":e="assets/img/bancos/amex.png"}return e},PaymentMethod.prototype.getIcon=function(){return this._data.images.icon||""},PaymentMethod.prototype.getName=function(){return console.log("PaymentMethod :"+this._data.name),this._data.name},PaymentMethod.prototype.getVigencia=function(){var t;return t=this._data.name?"Vigencia 05/25":t},PaymentMethod.prototype.getNumberCard=function(){var t;return t=this._data.name?" *** **** **** 3337":t},PaymentMethod.prototype.getLogoCard=function(){var t;return t=this._data.name?"assets/img/bancos/visa.png":t},PaymentMethod.prototype.getTextAdd=function(){return this._data.txtAux},PaymentMethod.prototype.getPeriodicPaymentString=function(){var t;return"unique"==this.getPromotionPaymentType()?"Pago de contado":(t="fixed"==this.getPromotionPaymentType()?"pagos":"MSI",this.getPeriodicPayments()?"Hasta "+this.getPeriodicPayments()+" "+t:"Meses Sin Intereses")},PaymentMethod.prototype.getNumberPayments=function(){return this._data.nPayments||""},PaymentMethod.prototype.getInformationPromotions=function(){this._data.nPayments;var t=this._data.type;switch(t){case"unique":t="Pago de contado";break;case"fixe":case"fixed":t="Pagos fijos";break;case"msi":t="Meses sin intereses"}this._data.amount;return t},PaymentMethod.prototype.getLength=function(){return 7<=this._data.payments.length},PaymentMethod.prototype.getValue=function(){return this.numberWithCommas(this._data.amount)},PaymentMethod.prototype.getAmountInt=function(){return parseInt(this._data.amount)},PaymentMethod.prototype.numberWithCommas=function(t){if(t)return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},PaymentMethod.prototype.getAccountName=function(){return this._data.accountName},PaymentMethod.prototype.getHighLightPay=function(){return this.getPaymentsAmount().split(" ")[0]},PaymentMethod.prototype.getPaymentsNumber=function(){return this._data.payment?this._data.payment.nPayments:1},PaymentMethod.prototype.getPaymentsObjectAmount=function(){return this._data.payment?this._data.payment.amount:""},PaymentMethod.prototype.getPaymentType=function(){return this._data.payment.type},PaymentMethod.prototype.typeValue=function(){return"totalplay"==this._data.name},PaymentMethod.prototype.getMsiText=function(){return this.getPaymentsNumber()+" Meses Sin Intereses de "},PaymentMethod.prototype.getFixedPaymentsText=function(){return this.getPaymentsNumber()+" Pagos Fijos de "},PaymentMethod.prototype.getNPaymentsText=function(){if(!this._data.payment)return"";switch(this.getPaymentType()){case"msi":return this.getMsiText();case"fixed":return this.getFixedPaymentsText();case"unique":return"Pago de contado";case"fixe":return this.getFixedPaymentsText()}},PaymentMethod.prototype.getCheckoutText=function(){switch(this.getType()){case"reference":case"unique":return"Pago de contado";case"card":case"totalplay":return this.getNPaymentsText()}},PaymentMethod.prototype.getPaymentAmount=function(){return this._data.payment?this.numberWithCommas(this._data.payment.amount):""},PaymentMethod.prototype.numberWithCommas=function(t){if(t)return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},PaymentMethod.prototype.getCardLastNumber=function(){return this._data.savedCard?" *** **** **** "+this._data.savedCard.ending:""},PaymentMethod.prototype.getLastNumberCard=function(){return this._data.savedCard?this._data.savedCard.ending:""},PaymentMethod.prototype.getCardPaymentString=function(){var t=this.getLastNumberCard(),e=this.getName();return Templates.CardString({name:e,number:t})},PaymentMethod.prototype.getPaymentCheckoutLabel=function(){switch(this.getType()){case"reference":return"<b>Referenciado</b>";case"card":return this.getCardPaymentString();case"totalplay":return"Cargo a estado de cuenta"}},PaymentMethod.prototype.getCvvLength=function(){var t;switch(this._data.savedCard.nCvv){case"VISA":case"MASTERCARD":t=3;break;case"AMERICAN EXPRESS":t=4}return t},PaymentMethod.prototype.getIdCard=function(){return this._data.savedCard.id},PaymentMethod.prototype.isReference=function(){return"reference"==this.getType()},PaymentMethod.prototype.isCard=function(){return"card"==this.getType()},PaymentMethod.prototype.isTotalplay=function(){return"totalplay"==this.getType()},PaymentMethod.prototype.isFixed=function(){return"fixed"==this.getType()},PaymentMethod.prototype.isUnique=function(){return"unique"==this.getPromotionPaymentType()},PaymentMethod.prototype.getPaymentsLabel=function(){var t="plazos",e=this._data.nPayments;return e+" "+(t=1==e?"plazo":t)+" de"},Player.getInstance=function(){return Player.instance||new Player},Player.prototype.createSession=function(){this.videoSession=new VideoSession(this.sessionName),this.videoSession.observe("STREAM_START",this.onStreamStart.bind(this)),this.videoSession.observe("SESSION_END",this.onSessionEnd.bind(this)),this.videoSession.observe("ERROR",this.onStreamError.bind(this))},Player.prototype.onStreamStart=function(){},Player.prototype.onSessionEnd=function(){this.playNextVideo()},Player.prototype.onStreamError=function(){console.error("loggin on stream error")},Player.prototype.getPlaylist=function(t,e){return!this.playlist||e?this.playlist=new PlayerPlaylist(t):this.playlist.init(t),this.playlist},Player.prototype.start=function(t){clearTimeout(this._playerTout),this._playerTout=setTimeout(function(){clearTimeout(this._playerTout),this.playlist=this.getPlaylist(t),this.playUrl(this.playlist.getCurrent())}.bind(this,t),1e3)},Player.prototype.playUrl=function(t){this.videoSession.playUrl(t)},Player.prototype.playNextVideo=function(){var t=this.playlist.nextVideo();this.playUrl(t)},Player.prototype.destroy=function(){this.videoSession.deleteSession()},PlayerPlaylist.prototype.init=function(t){this._data=t,this.currentIndex=0},PlayerPlaylist.prototype.getDataLength=function(t){return this.dataLength&&!t||(this.dataLength=this._data.length),this.dataLength},PlayerPlaylist.prototype.nextVideo=function(){return this.currentIndex++,this.currentIndex>=this.getDataLength()&&(this.currentIndex=0),this._data[this.currentIndex].url},PlayerPlaylist.prototype.getCurrent=function(){return this._data[this.currentIndex].url},Item.prototype.getName=function(){return this._data.name},Item.prototype.getAlgo=function(){return"algo"},Product.prototype=Object.create(Item.prototype),Product.prototype.constructor=Item,Product.prototype.getTitle=function(){return this._data.title||this._data.name},Product.prototype.getProductId=function(){return this._data.id},Product.prototype.getType=function(){return this._data.type},Product.prototype.getKeyword=function(){return this._data.keyword},Product.prototype.getRegularPrice=function(){return this.numberWithCommas(this._data.price.price)},Product.prototype.getRegularPriceHome=function(){return this.numberWithCommas(this._data.price)},Product.prototype.getVendor=function(){return!!this._data.seller&&this._data.seller.name},Product.prototype.hasPromotion=function(){return this._data.promotion||!1},Product.prototype.getPromotionPrice=function(){var t=parseFloat(this._data.price.amount),e=parseFloat(this._data.price.price);return!!(t&&t<e)&&this.numberWithCommas(this._data.price.amount)},Product.prototype.getPromotionPriceDetail=function(){var t=parseFloat(this._data.promotion.disccountPrice),e=parseFloat(this._data.price.amount);return!!(t&&t<e)&&this.numberWithCommas(this._data.promotion.disccountPrice)},Product.prototype.getPromotionPriceHome=function(){var t,e;return!!this._data.promotion&&(t=parseFloat(this._data.promotion.disccountPrice),e=parseFloat(this._data.amount),!!(t&&t<e))&&this.numberWithCommas(this._data.promotion.disccountPrice)},Product.prototype.getPaymentMonths=function(){return!!this._data.totalplay&&0!=this._data.totalplay.month&&this._data.totalplay.month},Product.prototype.getPaymentMinim=function(){return this.numberWithCommas(this._data.totalplay.min)},Product.prototype.numberWithCommas=function(t){if(t)return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},Product.prototype.getHtmlDescription=function(){return!!(this._data.descriptionHtml&&0<this._data.descriptionHtml.length)&&DOMPurify.sanitize(this._data.descriptionHtml)},Product.prototype.isDisccountPercent=function(){var t=this.hasPromotion();return!(!t||!t.discount)&&(parseFloat(t.discount),Math.trunc(t.discount))},Product.prototype.discountPercent=function(){var t=this.hasPromotion();return!!t&&t.discount},Product.prototype.getDisccountPrice=function(){var t=this.hasPromotion();return!!t&&parseFloat(t.disccountPrice)},Product.prototype.inStock=function(){return this._data.inStock},Product.prototype.getSpecs=function(){return!!(this._data.specs&&0<this._data.specs.length)&&this._data.specs},Product.prototype.getMedia=function(){var t,e=[];if(this._data.media&&0<Object.keys(this._data.media).length){this._data.media.video&&this._data.media.video.length&&e.push({type:"video",url:this._data.media.video});for(var a=0;a<this._data.media.images.length;a++)"720x720"!=this._data.media.images[a].alias&&"1280x720"!=this._data.media.images[a].alias||((t=this._data.media.images[a]).type="image",e.push(t));return e}return!1},Product.prototype.getPromoExpiration=function(){var t=this.hasPromotion();return!!(t&&t.expiration>Date.now())&&t.expiration},Product.prototype.getFullImage=function(){return!(!this._data.media||!this._data.media.fullImg)&&this._data.media.fullImg},Product.prototype.getDeliveryInfo=function(){var t=this._data.delivery;return!!(t&&t.date&&t.address)&&this._data.delivery},Product.prototype.getId=function(){return this._data.id},Product.prototype.getLabelMonts=function(){return this._data.complement?this._data.complement.label.toUpperCase():""},Product.prototype.getPriceProducts=function(){return!!this._data.price.amount&&this.numberWithCommas(this._data.price.amount)},Product.prototype.getImagesArray=function(){return!!this._data.media&&(this._data.media.images||this._data.media.img)},Product.prototype.getImageProducts=function(){var t,e;return!this.getImagesArray()||(t=this.getImagesArray(),-1===(e=Util.arrayObjectIndexOf(t,"352x352","alias")))?"assets/img/default/products.png":t[e].url},Product.prototype.getAccountImages=function(){var t,e;return!this.getImagesArray()||(t=this.getImagesArray(),-1===(e=Util.arrayObjectIndexOf(t,"512x512","alias")))?"assets/img/default/products.png":t[e].url},Product.prototype.inWishlist=function(){return this._data.inWishlist},Product.prototype.getNameProducts=function(){return this._data.name||this._data.title},Product.prototype.getName=function(){return this._data.title},Product.prototype.getDeliveryDate=function(){var t=this.getDeliveryInfo();if(t)return t.date},Product.prototype.getDeliveryAdress=function(){var t=this.getDeliveryInfo();if(t)return t.address},Product.prototype.getRating=function(){return this._data.rating},Product.prototype.getPercentage=function(){return this._data.text||!1},Product.prototype.getTextLink=function(){return this._data.text},Product.prototype.getDescription=function(){return!!(this._data.description&&0<this._data.description.length)&&this._data.description},Product.prototype.getBrandImage=function(){return this._data.media?this._data.media.brand:""},Product.prototype.getHomeFocusImage=function(){return this._data.media?this._data.media.imgHover:"assets/img/icons/512x512_generic.png"},Product.prototype.getClassName=function(){return this._data.class_name},Product.prototype.getHomeImage=function(){return this._data.media?this._data.media.images?this._data.media.images[0].url:this._data.media.img:"assets/img/icons/512x512_generic.png"},Product.prototype.getlistPriceOrPromo=function(){return this._data.amount||this._data.price||0},Product.prototype.getlistPrice=function(){return this.numberWithCommas(this._data.price.price)},Product.prototype.getPrice=function(){var t=parseFloat(this._data.amount),e=parseFloat(this._data.price);return e&&t?(t=t<e?t:e)?this.numberWithCommas(t):null:e?this.numberWithCommas(e):null},Product.prototype.getPrice2=function(){return parseFloat(this._data.price)>parseFloat(this._data.amount)?this.numberWithCommas(this._data.price):null},Product.prototype.getDisccountQuantity=function(){return this._data.price.discountQuantity},Product.prototype.getOrderId=function(){return this._data.orderId||!1},Product.prototype.getOrderStatus=function(){return!!this._data.status&&this._data.status.label},Product.prototype.getFinalPrice=function(){var t=this._data.price;return t.amount<t.price?this.numberWithCommas(t.amount):this.numberWithCommas(t.price)},Product.prototype.getMonthlyString=function(){var t;return this._data.totalplay?(t=this._data.totalplay,0<parseFloat(t.month)?"Hasta "+t.month+" meses de $"+this.numberWithCommas(t.min):"Pago de Contado"):""},Product.prototype.getTotalPlayPayments=function(){var t;if(this._data.totalplay)return t=this._data.totalplay,0<parseFloat(t.month)&&t.month},Product.prototype.getTotalPlayPaymentsAmount=function(){var t;return this._data.totalplay?(t=this._data.totalplay,this.numberWithCommas(t.min)):""},ShoppingCart.getInstance=function(){return ShoppingCart.instance||new ShoppingCart},ShoppingCart.prototype.render=function(){var t=Templates.ShoppingCart();$("#top-container").append(t),this.createElements()},ShoppingCart.prototype.createElements=function(){this.bulletList=new ListComponent("bullet-list",{selector:".bullet"}),this.bulletList.setFocusIndex(0)},ShoppingCart.prototype.getParseData=function(t,e){switch(t){case"zones":var a=e.name.split(" "),o=a[0].substring(0,3),a=1<a.length?a[1]:a[0];return{title:"Zona",value:o,description:a};case"tickets":o=" Personas",a=1<e.noAttendees?o:o.slice(0,-1);return{title:e.noAttendees,value:a,description:"$"+Util.numberWithCommas(e.totalPrice),myClass:"big"}}},ShoppingCart.prototype.renderItem=function(t,e){var a="";switch(t){case"shows":a=Templates.ShowItem(e);break;case"showTimes":a=Templates.TicketItem(e);break;default:var o=this.getParseData(t,e),a=Templates.ShoppingCartItem(o)}return a},ShoppingCart.prototype.deleteItem=function(){var t=$(".resumeItem:last-child");t.empty(),t.remove()},ShoppingCart.prototype.addItem=function(t){var e;this.addToCart(t),"shows"!==t.page.getId()&&(e=t.page.getId(),e=this.renderItem(e,t.itemData),$("#resume").append(e),this.bulletList.nextItem())},ShoppingCart.prototype.removeItem=function(t){this.removeCartItem(),this.deleteItem(),this.bulletList.previousItem()},ShoppingCart.prototype.addToCart=function(t){var e=_.extend({},t.itemData);e._id=t.page.getId(),this.cart.push(e)},ShoppingCart.prototype.removeCartItem=function(){this.cart.pop()},ShoppingCart.prototype.clearCart=function(){this.cart.length=0},ShoppingCart.prototype.renderResume=function(t){var e=$("#"+t);_.each(this.cart,function(t){e.append(this.renderItem(t._id,t))}.bind(this))},ShoppingCart.prototype.getCart=function(){return this.cart},ShoppingCart.prototype.getProductId=function(){for(var t=this.cart.length-1;0<=t;t--)if(this.cart[t].productId)return this.cart[t].productId},ShoppingCart.prototype.getKeyValue=function(t,e){for(var a=0;a<this.cart.length;a++)if(this.cart[a]._id==t)return this.cart[a][e]},ShoppingCart.prototype.updateCelebration=function(t){this.celebration=t},ShoppingCart.prototype.getCelebration=function(){return this.celebration},ShoppingCart.prototype.getZonesData=function(t){return this.getKeyValue("zones",t)},ShoppingCart.prototype.getShowsData=function(t){return this.getKeyValue("shows",t)},ShoppingCart.prototype.getShowsTimesData=function(t){return this.getKeyValue("showTimes",t)},ShoppingCart.prototype.getTicketsData=function(t){return this.getKeyValue("tickets",t)},ShoppingCart.prototype.getCouponsData=function(t){return this.getKeyValue("coupons",t)},ShoppingCart.prototype.getShowImage=function(){var t=this.getShowsData("images");return t?Util.getImageFromObject(t,"COVER","10c"):""};